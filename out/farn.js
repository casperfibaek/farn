!function(t){var n={};function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)r.d(e,o,function(n){return t[n]}.bind(null,o));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=3)}([function(t,n){function r(t,n){if(t[0][0]===n[0][0]&&t[0][1]===n[0][1]&&t[1][0]===n[1][0]&&t[1][1]===n[1][1])return!1;if(t[0][0]===n[0][0]&&t[0][1]===n[0][1]||t[0][0]===n[1][0]&&t[0][1]===n[1][1])return[t[0][0],t[0][1]];if(t[1][0]===n[0][0]&&t[1][1]===n[0][1]||t[1][0]===n[1][0]&&t[1][1]===n[1][1])return[t[1][0],t[1][1]];var r=t[1][0]-t[0][0],e=t[1][1]-t[0][1],o=n[1][0]-n[0][0],a=n[1][1]-n[0][1],i=a*r-o*e;if(0===i)return!1;var u=t[0][0]-n[0][0],f=t[0][1]-n[0][1],h=(o*f-a*u)/i,c=(r*f-e*u)/i;return h>=0&&h<=1&&c>=0&&c<=1&&[t[0][0]+h*r,t[0][1]+h*e]}t.exports={intersect:r,intersect3D:function(t,n){var e=t[0],o=t[1],a=n[0],i=n[1];if(2===e.length||2===o.length||2===a.length||2===i.length)return r(t,n);if(e[2]===o[2]&&e[2]===a[2]&&e[2]===i[2]){var u=o[0]-e[0],f=i[0]-a[0],h=o[1]-e[1],c=i[1]-a[1],p=c*u-f*h;if(0===p)return!1;var l=e[0]-a[0],s=(f*(e[1]-a[1])-c*l)/p;return[e[0]+s*u,e[1]+s*h,e[2]]}var v=[e[0]-a[0],e[1]-a[1],e[2]-a[2]],M=[i[0]-a[0],i[1]-a[1],i[2]-a[2]],g=Math.pow(M[0],2)+Math.pow(M[1],2)+Math.pow(M[2],2);if(Math.sqrt(g)<Number.EPSILON)return!1;var y=[o[0]-e[0],o[1]-e[1],o[2]-e[2]],b=Math.pow(y[0],2)+Math.pow(y[1],2)+Math.pow(y[2],2);if(Math.sqrt(b)<Number.EPSILON)return!1;var x=v[0]*M[0]+v[1]*M[1]+v[2]*M[2],d=M[0]*y[0]+M[1]*y[1]+M[2]*y[2],m=v[0]*y[0]+v[1]*y[1]+v[2]*y[2],w=b*g-Math.pow(d,2);if(Math.abs(w)<Number.EPSILON)return!1;var P=(x*d-m*g)/w,S=(x+d*P)/g,O=[e[0]+P*y[0],e[1]+P*y[1],e[2]+P*y[2]],I=[a[0]+S*M[0],a[1]+S*M[1],a[2]+S*M[2]];return O[0]===I[0]&&O[1]===I[1]&&O[2]===I[2]?O:[O,I]},distanceTo:function(t,n){var r=t,e=n;return 3===r.length&&3===e.length?Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2)+Math.pow(e[2]-r[2],2)):Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2))},onLine:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.EPSILON,e=t[1][1]-t[0][1],o=t[1][0]-t[0][0];if(0===o||0===e){var a,i;if(n[0]===t[0][0]){if(t[0][1]>=t[1][1]?(a=t[1][1],i=t[0][1]):(a=t[0][1],i=t[1][1]),n[1]>=a&&n[1]<=i)return!0}else if(n[1]===t[0][1]){var u,f;if(t[0][0]>=t[1][0]?(u=t[1][0],f=t[0][0]):(u=t[0][0],f=t[1][0]),n[0]>=u&&n[0]<=f)return!0}return!1}var h=e/o,c=t[0][1]-h*t[0][0];return Math.abs(n[1]-(h*n[0]+c))<=r===1},bbox:function(t){for(var n=t,r=[1/0,1/0,-1/0,-1/0],e=0;e<n.length-1;e+=1)r[0]>n[e][0]&&(r[0]=n[e][0]),r[1]>n[e][1]&&(r[1]=n[e][1]),r[2]<n[e][0]&&(r[2]=n[e][0]),r[3]<n[e][1]&&(r[3]=n[e][1]);return r},area:function(t){for(var n=t,r=0,e=0;e<n.length-1;e+=1){var o=e===n.length-1?0:e+1;r+=n[e][0]*n[o][1]-n[o][0]*n[e][1]}return Math.abs(r)/2},angleTo:function(t,n){var r=t,e=n;if(r[0]===e[0]&&r[1]===e[1])return!1;var o=Math.atan2(r[0]-e[0],e[1]-r[1]);return o<0&&(o+=2*Math.PI),o},nearestPoint:function(t,n){var r,e,o,a,i=t,u=n,f=u[1][0]-u[0][0],h=u[1][1]-u[0][1],c=i[0]-u[0][0],p=i[1]-u[0][1];if(2===i.length||2===u[0].length||2===u[1].length)return(r=f*c+h*p)<=0?u[0]:(e=Math.pow(f,2)+Math.pow(h,2))<=r?u[1]:(a=[f*(o=r/e),h*o],[u[0][0]+a[0],u[0][1]+a[1]]);var l=u[1][2]-u[0][2];return(r=f*c+h*p+l*(i[2]-u[0][2]))<=0?u[0]:(e=Math.pow(f,2)+Math.pow(h,2)+Math.pow(l,2))<=r?u[1]:(a=[f*(o=r/e),h*o,l*o],[u[0][0]+a[0],u[0][1]+a[1],u[0][2]+a[2]])},pointRotation:function(t,n,r){var e=t,o=n,a=r*Math.PI/180,i=Math.cos(a),u=Math.sin(a),f=i*(o[0]-e[0])+u*(o[1]-e[1])+e[0],h=i*(o[1]-o[1])-u*(o[0]-o[0])+e[1];return 3===o.length?[f,h,o[2]]:[f,h]},angleDifference:function(t,n){return Math.min(2*Math.PI-Math.abs(t-n),Math.abs(t-n))},pointFromAngle:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=t,o=n;return 3===e.length?[Math.cos(o)*r+e[0],Math.sin(o)*r+e[1],e[2]]:[Math.cos(o)*r+t[0],Math.sin(o)*r+t[1]]},pointFromRatio:function(t,n,r){if(0===r)return t;if(1===r)return n;var e=t,o=n,a=r,i=o[0]-e[0],u=o[1]-e[1];return 2===e.length||2===o.length?[e[0]+i*a,e[1]+u*a]:[e[0]+i*a,e[1]+u*a,e[2]+(o[2]-e[2])*a]},pointFromTwoPoints:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===r)return t;var e,o=t,a=n,i=a[0]-o[0],u=a[1]-o[1],f=Math.pow(i,2)+Math.pow(u,2);return 2===o.length||2===a.length?(e=Math.sqrt(f),[o[0]+i/e*r,o[1]+u/e*r]):(e=Math.sqrt(f+Math.pow(n[2]-t[2],2)),[o[0]+i/e*r,o[1]+u/e*r,o[2]+(a[2]-o[2])/e*r])}}},function(t,n){t.exports={createSector:function(t,n,r,e){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24,a=Math.min(2*Math.PI-Math.abs(n-r),Math.abs(n-r)),i=Math.ceil(a/(2*Math.PI)/o),u=a/(i+1),f=i+4,h=Array(f);h[0]=t,h[1]=[Math.cos(n)*e+t[0],Math.sin(n)*e+t[1]],h[f-2]=[Math.cos(r)*e+t[0],Math.sin(r)*e+t[1]],h[f-1]=t;for(var c=1,p=2;p+2<f;p+=1){var l=n+u*c;h[p]=[Math.cos(l)*e+t[0],Math.sin(l)*e+t[1]],c+=1}return h},createSectorSlice:function(t,n,r,e){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24,a=Math.min(2*Math.PI-Math.abs(n-r),Math.abs(n-r)),i=Math.ceil(a/(2*Math.PI)/o),u=a/(i+1),f=i+2,h=Array(f);h[0]=[Math.cos(n)*e+t[0],Math.sin(n)*e+t[1]],h[f-1]=[Math.cos(r)*e+t[0],Math.sin(r)*e+t[1]];for(var c=1;c+1<f;c+=1){var p=n+u*c;h[c]=[Math.cos(p)*e+t[0],Math.sin(p)*e+t[1]]}return h},createCircle:function(t,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:24,e=Array(r+1),o=0;o<r;o+=1){var a=o/(r/2)*Math.PI,i=t[0]-n*Math.cos(a),u=t[1]-n*Math.sin(a);e[o]=[i,u]}return e[e.length-1]=t,e}}},function(t,n,r){var e=r(0);t.exports={lineStringLength:function(t){for(var n=t,r=0,o=0;o<n.length-1;o+=1)r+=e.distance(n[o],n[o+1]);return r},pointAlongLineString:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===n)return t[0];for(var r=t,o=n,a=0,i=0;i<r.length-1;i+=1){if((a+=e.distance(r[i],r[i+1]))===o)return r[i+1];if(a>o)return e.pointFromTwoPoints(r[i+1],r[i],a-o)}throw new Error("Distance outside of line.")},perpendicularPoints:function(t,n,r){var o=e.pointFromTwoPoints(t[0],t[1],n),a=e.pointFromAngle(o,r,e.angleTo(t[0],t[1])-.5*Math.PI);return[a,[a[0]+-1*(o[0]-a[0]),a[1]+-1*(o[1]-a[1])]]},shiftLines:function(t,n){var r=e.pointFromAngle(t[0],n,e.angleTo(t[0],t[1])-.5*Math.PI),o=[t[0][0]-r[0],t[0][1]-r[1]],a=[-1*o[0],-1*o[1]],i=[t[1][0]+o[0],t[1][1]+o[1]];return[[r,i],[[r[0]+a[0],r[1]+a[1]],[i[0]+a[0],i[1]+a[1]]]]},shiftLeft:function(t,n){var r=e.pointFromAngle(t[0],n,e.angleTo(t[0],t[1])-.5*Math.PI),o=[t[0][0]-r[0],t[0][1]-r[1]];return[r,[t[1][0]+o[0],t[1][1]+o[1]]]},shiftRight:function(t,n){var r=e.pointFromAngle(t[0],n,e.angleTo(t[0],t[1])+.5*Math.PI),o=[t[0][0]-r[0],t[0][1]-r[1]];return[r,[t[1][0]+o[0],t[1][1]+o[1]]]}}},function(t,n,r){function e(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}var o=function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),o.forEach(function(n){e(t,n,r[n])})}return t}({},r(0),r(4),r(1),r(2),r(5),r(6));t.exports=o},function(t,n,r){var e=r(0);t.exports={inside:function(t,n,r){for(var o=t[0],a=t[1],i=0;i<n.length;i+=1){var u=i>0?i-1:n.length-1,f=n[i][0],h=n[i][1],c=n[u][0],p=n[u][1];if(t[0]===n[i][0]&&t[1]===n[i][1])return!0;if(h>a!=p>a&&(o<(c-f)*(a-h))/(p-h+f))return!0;if(r&&n[i+1]&&e.pointToLine(t,[n[i],n[i+1]],!0)<r)return!0}return!1}}},function(t,n,r){var e=r(0),o=r(2),a=r(1);t.exports=function(t,n,r){if(n<0)return!1;for(var i=[],u=[],f=0;f<t.length-1;f+=1){var h=o.shiftLines([t[f],t[f+1]],n),c=h[0],p=h[1];if(f<t.length-2){0===f&&i.push(c[0]);var l=o.shiftLines([t[f+1],t[f+2]],n),s=l[0],v=l[1],M=e.intersect(c,s),g=e.intersect(p,v);if(M)i.push(c[0]),i.push(M);else{var y=e.angleTo(t[f+1],c[1]),b=e.angleTo(t[f+1],s[0]),x=a.createSectorSlice(t[f+1],y,b,n,r);i=i.concat(x)}if(g)u.unshift(p[0]),u.unshift(g);else{var d=e.angleTo(t[f+1],v[0]),m=e.angleTo(t[f+1],p[1]);u=a.createSectorSlice(t[f+1],d,m,n,r).concat(u)}}if(f===t.length-2){var w=o.shiftLines([t[f],t[f+1]],n);i.push(w[1][1]),u.push(w[0][1])}}return i.concat(u)}},function(t,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=[],o=Array(t.length-1),a=0;a<t.length-1;a+=1){var i={a:t[a],x:t[a][0],y:t[a][1]},u={a:t[a+1],x:t[a+1][0],y:t[a+1][1]};o[a]=i.x<u.x?[i.a,u.a]:i.x===u.x&&i.y<=u.y?[i.a,u.a]:[u.a,i.a]}for(o.sort(function(t,n){return t[0][0]>n[0][0]?1:-1});o.length>1;){for(var f=[],h=1;h<o.length;h+=1){var c={p1:{x:o[0][0][0],y:o[0][0][1]},p2:{x:o[0][1][0],y:o[0][1][1]}},p={p1:{x:o[h][0][0],y:o[h][0][1]},p2:{x:o[h][1][0],y:o[h][1][1]}};if(p.p1.x>c.p2.x)break;var l=c.p1.x===p.p1.x&&c.p1.y===p.p1.y,s=c.p2.x===p.p2.x&&c.p2.y===p.p2.y;if(l&&s)f.push(o[0]);else if(!(l||c.p1.x===p.p2.x&&c.p1.y===p.p2.y||s||c.p2.x===p.p1.x&&c.p2.y===p.p1.y)){var v=c.p2.x-c.p1.x,M=c.p2.y-c.p1.y,g=p.p2.x-p.p1.x,y=p.p2.y-p.p1.y,b=y*v-g*M;if(0!==b){var x=c.p1.x-p.p1.x,d=c.p1.y-p.p1.y,m=(g*d-y*x)/b,w=(v*d-M*x)/b;if(m>=0&&m<=1&&w>=0&&w<=1){var P=function(){if(n)return{v:!0};var t=c.p1.x+m*v,r=c.p1.y+m*M;-1===f.findIndex(function(n){return n[0]===t&&n[1]===r})&&f.push([t,r])}();if("object"===r(P))return P.v}}}}e=e.concat(f),o.shift()}return e.length>0&&e.sort(function(t,n){return t[0]>=n[0]||t[0]===n[0]&&t[1]>=n[1]?1:-1})}}]);
//# sourceMappingURL=farn.js.map